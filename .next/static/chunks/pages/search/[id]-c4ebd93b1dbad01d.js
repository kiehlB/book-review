(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{66099:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/[id]",function(){return t(16194)}])},16194:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return _}});var n=t(85893),r=t(2962),i=t(67294),a=t(79352),c=t(14490),o=t(70318),l=t(86548),u=t(47034),d=t(46829),h=t(96835),x=t(17426),p=t(3410),m=t(12045),j=t(8234),f=t(79347),w=t(11163),v=t(8193),b=t(63750);function _(){let e=(0,w.useRouter)(),{id:s}=e.query,{data:t,loading:_}=function(e){var s;let{data:t,loading:n,fetchMore:r}=(0,d.useQuery)(x.ss,{variables:{limit:24,searchInput:e},notifyOnNetworkStatusChange:!0}),[a,c]=(0,i.useState)(!1),o=(0,i.useCallback)(e=>{r({variables:{cursor:e,limit:24},updateQuery:(e,s)=>{let{fetchMoreResult:t}=s;return t?(0===t.searchPosts.length&&c(!0),{searchPosts:[...e.searchPosts,...t.searchPosts]}):e}})},[r]),l=null===(s=null==t?void 0:t.searchPosts[(null==t?void 0:t.searchPosts.length)-1])||void 0===s?void 0:s.id;return(0,h.Z)({cursor:l,onLoadMore:o}),{data:t,loading:n,isFinished:a}}(s);return(0,n.jsxs)(j.E.div,{children:[(0,n.jsx)(r.PB,{...(0,m.q)({title:"Search page",description:"검색 페이지"})}),(0,n.jsx)(r.iu,{url:"https://www.bookreview.pro/search?q",potentialActions:[{target:"https://www.bookreview.pro/search?q",queryInput:"search_term_string"}]}),(0,n.jsx)(l.X,{children:(0,n.jsxs)(o.k,{as:"div",className:"pt-[2.25rem]",children:[(0,n.jsx)(c.$t,{className:"col-span-2 mmd:hidden",children:(0,n.jsx)(u.Z,{primaryItems:[{icon:(0,n.jsx)(a.iEv,{}),text:"포스트",to:"/",sub:["/search","/search/[query]","/trending"]},{icon:(0,n.jsx)(v.pMA,{}),text:"게시판",to:"/post"},{icon:(0,n.jsx)(b.ra4,{}),text:"태그",to:"/tags"}],secondaryItems:[{icon:(0,n.jsx)(a.UeR,{}),text:"Trending tags",to:"/Trending tags"}]})}),(0,n.jsx)(c.LN,{className:"col-span-8 mmd:col-span-12",first:(0,n.jsx)(c.s2,{children:(0,n.jsx)("div",{className:"flex justify-between items-center  pt-4 pb-0",children:(0,n.jsx)(f.hb,{href:"/",children:(0,n.jsx)("div",{className:"w-[240px] text-[#334155] text-base flex items-center justify-between font-semibold pl-2 dark:text-[#D3D3D3]",children:"메인으로"})})})}),second:(0,n.jsx)(c.so,{children:(0,n.jsx)(o.Y,{className:"mt-[1rem]",children:(0,n.jsx)(p.Z,{posts:(null==t?void 0:t.searchPosts)||[],loading:!t||_})})})})]})})]})}}},function(e){e.O(0,[228,260,617,937,662,401,86,13,78,780,424,548,362,774,888,179],function(){return e(e.s=66099)}),_N_E=e.O()}]);