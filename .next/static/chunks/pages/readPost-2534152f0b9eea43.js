(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{75867:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/readPost",function(){return t(68074)}])},96758:function(n,e,t){"use strict";t.d(e,{Z:function(){return I}});var r=t(85893),o=t(67294),i=t(11163),s=t(41664),a=t.n(s),l=t(8234),d=t(9473),u=t(7297),c=t(56279),m=t(71686),b=t(17106),f=t(60155),p=t(3006),h=t(57233),x=t(77349),k=t(51649),v=t(186),g=t(73224);function _(){let n=(0,u.Z)(["\n  .rdp-button:hover:not([disabled]):not(.rdp-day_selected) {\n    background-color: #fcd535;\n    color: ",";\n    &:hover {\n      font-weight: 700;\n    }\n  }\n  .rdp-cell {\n    color: ",";\n  }\n  .react-datepicker__header {\n    background-color: #fff;\n  }\n  .rdp {\n    margin: 1rem 0rem;\n    padding-left: 0.5rem;\n  }\n\n  .rdp-day_selected {\n    color: #212529;\n    font-weight: bold;\n  }\n\n  .rdp {\n    --rdp-cell-size: 40px;\n    --rdp-accent-color: #fcd535;\n    --rdp-background-color: #e7edff;\n    /* Switch to dark colors for dark themes */\n    --rdp-accent-color-dark: #212529;\n    --rdp-background-color-dark: #fcd535;\n    color: #212529;\n    /* Outline border for focused elements */\n    --rdp-outline: 2px solid var(--rdp-accent-color);\n    /* Outline border for focused and selected elements */\n    --rdp-outline-selected: 2px solid rgba(0, 0, 0, 0.75);\n  }\n"]);return _=function(){return n},n}function $(n){let{goToMonth:e,nextMonth:t,previousMonth:o}=(0,c.HJ)();return(0,r.jsxs)("h2",{className:"flex justify-center items-center mb-4",children:[(0,r.jsx)("button",{className:"mr-4 dark:text-white",disabled:!o,onClick:()=>o&&e(o),children:(0,r.jsx)(k.u1R,{})}),(0,r.jsxs)("div",{className:"dark:text-white",children:[" ",(0,h.Z)(n.displayMonth,"yyy.MM")]}),(0,r.jsx)("button",{className:"ml-4 dark:text-white",disabled:!t,onClick:()=>t&&e(t),children:(0,r.jsx)(k.hjJ,{})})]})}let y=n=>{let{onChange:e,range:t,ranges:s,setRange:a,...l}=n,{isdark:u}=(0,d.v9)(n=>n.core),h=(0,o.useRef)(),k=(0,d.I0)(),v=(0,i.useRouter)(),[_,y]=(0,o.useState)(null),[w,P]=(0,o.useState)(null),[Z,N]=(0,o.useState)(!0),C=new Date,S=[{from:new Date(0,0,0),to:new Date(2023,1,8)},{from:(0,x.Z)(C,1),to:new Date(9999,2,9)}],I=n=>{if(Z)N(!1),P(n);else if(N(!0),y(n),w&&_){var e;null==h||null===(e=h.current)||void 0===e||e.click(),k((0,g.u3)({from:w,to:_}))}},F=n=>{y(n)},T=n=>{if(n){var e;v.push("/trending"),k((0,g.u3)(n)),null==h||null===(e=h.current)||void 0===e||e.click()}},A=()=>{a(null)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"max-w-sm z-[8] ml-4",children:(0,r.jsx)(m.J,{className:"relative",children:n=>{let{open:e}=n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.J.Button,{ref:h,className:"outline-none flex items-end",children:(0,r.jsx)(f.qKA,{size:24,className:"text-[#4b4b4b] dark:text-[#CFCFCF] hover:text-[#212529]",onClick:()=>A()})}),(0,r.jsx)(b.u,{as:o.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,r.jsx)(m.J.Panel,{className:"absolute overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 w-[300px] right-0",children:(0,r.jsxs)(j,{isdark:u,className:"relative grid bg-white dark:text-white dark:bg-[#212227] lg:grid-cols-1",children:[s&&(0,r.jsx)("div",{className:"flex flex-col border-b dark:bg-[#212227]",children:s.map(n=>(0,r.jsx)("div",{className:"dark:text-[#cfcfcf] dark:hover:text-[#cfcfcf] text-center text-[#475569] text-xs font-bold py-2 rounded hover:bg-slate-100 dark:hover:bg-[#32333a] ",onClick:()=>{T(n.value)},children:n.label},n.label))}),(0,r.jsx)(c._W,{disabled:S,locale:p.Z,onDayClick:n=>I(n),onDayMouseEnter:F,className:"Selectable",...l,components:{Caption:$}})]})})})]})}})})})};var w=o.memo(y);let j=v.ZP.div(_(),n=>(n.isdark,"#212529"),n=>"dark"==n.isdark?"#ececec":"#212529");var P=t(7069);let Z=new Date,N=()=>{(0,P.Z)(Z,0);let[n,e]=(0,o.useState)(),t=(0,d.I0)(),s=(0,i.useRouter)();(0,o.useEffect)(()=>{(null==n?void 0:n.from)&&(null==n?void 0:n.to)&&(s.push("/trending"),t((0,g.u3)({from:n.from,to:n.to})))},[n,t]);let a=[{label:"오늘",value:{from:(0,P.Z)(Z,0),to:Z}},{label:"이번 주",value:{from:(0,P.Z)(Z,7),to:Z}},{label:"이번 달",value:{from:(0,P.Z)(Z,28),to:Z}},{label:"올해",value:{from:(0,P.Z)(Z,365),to:Z}}];return(0,r.jsx)(w,{mode:"range",fixedWeeks:!0,range:n,selected:n,setRange:e,onSelect:e,ranges:a,onChange:e})},C=(n,e)=>"/"===n?n===e:e.startsWith(n);var S=function(n){let{primaryItems:e}=n,t=(0,i.useRouter)(),o=n=>{n.preventDefault(),n.stopPropagation(),n.nativeEvent.stopImmediatePropagation()};return(0,r.jsxs)("div",{className:"flex items-center",children:[e.map(n=>{let{name:e,href:i,svg:s}=n;return(0,r.jsx)(a(),{href:i,onClick:n=>{C(i,t.pathname)&&o(n)},children:(0,r.jsxs)("div",{className:"ml-4 flex flex-col relative text-base font-semibold text-[#181A20] dark:text-[#e4e5e7]",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"".concat(t.pathname==i?"text-[#FFA500]":"text-[#4b4b4b] dark:text-[#CFCFCF]"," mr-1.5"),children:s}),(0,r.jsx)("div",{className:"".concat(t.pathname==i?"text-[#FFA500]":"text-[#4b4b4b] dark:text-[#CFCFCF]"),children:e})]}),C(i,t.pathname)&&(0,r.jsx)(l.E.div,{layoutId:"navigation-underline",className:"navigation-underline",animate:!0})]})},e)}),(0,r.jsx)(N,{})]})},I=function(n){let{title:e,primaryItems:t}=n;return(0,r.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,r.jsx)("div",{className:"flex mb-auto text-lg text-[#212529] font-semibold dark:text-[#e4e5e7]",children:e}),t&&(0,r.jsx)(S,{primaryItems:t})]})}},70318:function(n,e,t){"use strict";t.d(e,{Y:function(){return a},k:function(){return s}});var r=t(85893),o=t(67294),i=t(86010);function s(n){let{children:e,className:t,as:o="div"}=n;return(0,r.jsx)(o,{className:(0,i.Z)("grid grid-cols-10 gap-6 max-w-[98.5rem] mx-auto mxl:max-w-[75rem] mmd:grid-cols-10",t),children:e})}let a=o.forwardRef(function(n,e){let{children:t,className:o}=n;return(0,r.jsx)("div",{className:(0,i.Z)("grid grid-cols-8 gap-x-6 gap-y-12  max-w-[78.5rem] mx-auto w-full mxl:grid-cols-12 auto-rows-fr",o),children:t})})},47034:function(n,e,t){"use strict";t.d(e,{Z:function(){return m}});var r=t(85893),o=t(86010);t(67294);var i=t(9473),s=function(n){let{className:e}=n,{isdark:t}=(0,i.v9)(n=>n.core);return(0,r.jsx)("svg",{className:e,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:"dark"==t?"#e4e5e7":"#334155",width:24,height:24,d:"M20 15a1 1 0 002 0V7a1 1 0 00-1-1h-8a1 1 0 000 2h5.59L13 13.59l-3.3-3.3a1 1 0 00-1.4 0l-6 6a1 1 0 001.4 1.42L9 12.4l3.3 3.3a1 1 0 001.4 0L20 9.4V15z"})})},a=t(41664),l=t.n(a),d=t(11163);let u=n=>{let e=(0,d.useRouter)(),t=n.to===e.pathname||e.pathname.startsWith("".concat(n.to,"/"))||n.sub&&n.sub.some(n=>e.pathname===n||e.pathname.startsWith("".concat(n,"/")));return(0,r.jsxs)(l(),{className:(0,o.Z)("flex items-center underlined whitespace-nowrap text-lg font-semibold hover:text-team-current focus:text-team-current focus:outline-none px-[0.5rem] my-[0.5rem] py-[0.5rem] hover:text-[#212529] transition-all dark:text-[#e4e5e7]",{"active text-[#212529] border-[#FCD535] border-l-4 bg-[#ffffd1] bg-opacity-40 dark:bg-[#54565F33] dark:border-[#54565F33] hover:bg-[#FFF17F] dark:hover:bg-[#53525280]":t,"text-[#495057] pl-3 transition-all hover:pl-5":!t}),href:n.to,children:[n.icon,(0,r.jsx)("span",{className:"ml-2",children:n.text})]})},c=n=>{let{primaryItems:e,secondaryItems:t,className:i,isDisabled:a}=n;return(0,r.jsxs)("div",{className:(0,o.Z)("w-[80%] mxl:w-[90%]",i),children:[(0,r.jsx)("ul",{children:e.map(n=>(0,r.jsx)("li",{children:(0,r.jsx)(u,{...n})},n.text))}),t?(0,r.jsxs)("ul",{className:"flex mb-2",children:[(0,r.jsx)("div",{className:"flex items-center underlined whitespace-nowrap text-base font-bold py-[0.5rem] transition-all text-[#334155] pl-3 dark:text-[#e4e5e7]",children:"Trending tags"}),(0,r.jsx)(s,{className:"w-[20px] ml-2"})]}):""]})};var m=c},21409:function(n,e,t){"use strict";t.d(e,{Z:function(){return a}});var r=t(46829),o=t(67294),i=t(96835),s=t(17426);function a(){var n;let{data:e,loading:t,fetchMore:a}=(0,r.useQuery)(s.l5,{variables:{limit:24},notifyOnNetworkStatusChange:!0}),[l,d]=(0,o.useState)(!1),u=(0,o.useCallback)(n=>{a({variables:{cursor:n,limit:24},updateQuery:(n,e)=>{let{fetchMoreResult:t}=e;return t?(0===t.recentPosts.length&&d(!0),{recentPosts:[...n.recentPosts,...t.recentPosts]}):n}})},[a]),c=null===(n=null==e?void 0:e.recentPosts[(null==e?void 0:e.recentPosts.length)-1])||void 0===n?void 0:n.id;return(0,i.Z)({cursor:c,onLoadMore:u}),{data:e,loading:t,isFinished:l}}},96835:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(67294),o=t(60119);function i(n){let{cursor:e,stop:t,offset:i,onLoadMore:s,onLoadMoreByOffset:a}=n,l=(0,r.useRef)(null),d=(0,r.useCallback)(()=>{0===(0,o.rA)()&&window.scrollTo(0,(0,o.cx)()-1)},[]),u=(0,r.useCallback)(async()=>{e&&s&&e!==l.current&&(l.current=e,await s(e),d())},[e,s,d]),c=(0,r.useCallback)(async()=>{!t&&i&&a&&i!==l.current&&(l.current=i,await a(i),d())},[i,a,d,t]),m=(0,r.useCallback)(()=>{let n=(0,o.rA)();n<window.screen.height&&(u(),c())},[u,c]);(0,r.useEffect)(()=>(window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}),[m])}},17426:function(n,e,t){"use strict";t.d(e,{E4:function(){return k},Hz:function(){return x},KH:function(){return N},QU:function(){return w},WO:function(){return $},YR:function(){return j},Zr:function(){return g},hc:function(){return Z},l5:function(){return v},ss:function(){return y},wL:function(){return P},zL:function(){return _}});var r=t(7297),o=t(58585);function i(){let n=(0,r.Z)(["\n  query GetPost($id: String!) {\n    post(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      subs_count\n      released_at\n      created_at\n      updated_at\n      liked\n      tags {\n        tag {\n          name\n        }\n      }\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n        profile {\n          id\n          bio\n          profile_name\n          thumbnail\n        }\n      }\n      subs {\n        id\n        text\n        likes\n        has_replies\n        deleted\n        level\n        reply\n        created_at\n        updated_at\n\n        upvotes\n        replies {\n          id\n          text\n          has_replies\n          created_at\n          updated_at\n        }\n        replies_count\n        user {\n          id\n          username\n          profile {\n            id\n            bio\n            profile_name\n            thumbnail\n          }\n        }\n      }\n    }\n  }\n"]);return i=function(){return n},n}function s(){let n=(0,r.Z)(["\n  query GetPosts($cursor: String, $username: String, $istemp: Boolean) {\n    posts(cursor: $cursor, username: $username, istemp: $istemp) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      tags {\n        tag {\n          name\n        }\n      }\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return s=function(){return n},n}function a(){let n=(0,r.Z)(["\n  query RecentPosts($cursor: String, $limit: Int) {\n    recentPosts(cursor: $cursor, limit: $limit) {\n      id\n      title\n\n      thumbnail\n      likes\n      views\n      is_temp\n      postbody\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return a=function(){return n},n}function l(){let n=(0,r.Z)(["\n  query TrendingPosts(\n    $offset: Int\n    $limit: Int\n    $timeframe: String\n    $from: Date\n    $to: Date\n  ) {\n    trendingPosts(\n      offset: $offset\n      limit: $limit\n      timeframe: $timeframe\n      from: $from\n      to: $to\n    ) {\n      id\n      title\n      thumbnail\n      likes\n      postbody\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return l=function(){return n},n}function d(){let n=(0,r.Z)(["\n  mutation CreatePost(\n    $body: String!\n    $title: String!\n    $thumbnail: String\n    $postbody: String\n    $tags: [String]\n    $is_temp: Boolean\n    $is_private: Boolean\n    $bookTitle: String\n    $bookContent: String\n    $bookUrl: String\n    $bookIsbn: String\n    $bookAuthors: [String]\n  ) {\n    createPost(\n      body: $body\n      title: $title\n      tags: $tags\n      thumbnail: $thumbnail\n      postbody: $postbody\n      is_temp: $is_temp\n      is_private: $is_private\n      bookTitle: $bookTitle\n      bookContent: $bookContent\n      bookUrl: $bookUrl\n      bookIsbn: $bookIsbn\n      bookAuthors: $bookAuthors\n    ) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      postbody\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n    }\n  }\n"]);return d=function(){return n},n}function u(){let n=(0,r.Z)(["\n  query ReloadComments($id: String!) {\n    post(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      subs_count\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n        updated_at\n      }\n    }\n  }\n"]);return u=function(){return n},n}function c(){let n=(0,r.Z)(["\n  query SearchPosts($searchInput: String) {\n    searchPosts(searchInput: $searchInput) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return c=function(){return n},n}function m(){let n=(0,r.Z)(["\n  mutation EditPost(\n    $id: String!\n    $title: String\n    $body: String\n    $thumbnail: String\n    $tags: [String]\n    $is_temp: Boolean\n    $is_private: Boolean\n    $postbody: String\n  ) {\n    editPost(\n      id: $id\n      title: $title\n      body: $body\n      tags: $tags\n      is_temp: $is_temp\n      thumbnail: $thumbnail\n      is_private: $is_private\n      postbody: $postbody\n    ) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return m=function(){return n},n}function b(){let n=(0,r.Z)(["\n  mutation RemovePost($id: String!) {\n    removePost(id: $id)\n  }\n"]);return b=function(){return n},n}function f(){let n=(0,r.Z)(["\n  mutation LikePost($id: String!) {\n    likePost(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return f=function(){return n},n}function p(){let n=(0,r.Z)(["\n  mutation UnlikePost($id: String!) {\n    unlikePost(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return p=function(){return n},n}function h(){let n=(0,r.Z)(["\n  mutation UploadImageToCloudinary($body: String!, $width: Int!, $height: Int!) {\n    uploadImage(body: $body, width: $width, height: $height) {\n      public_id\n      url\n    }\n  }\n"]);return h=function(){return n},n}let x=(0,o.ZP)(i()),k=(0,o.ZP)(s()),v=(0,o.ZP)(a()),g=(0,o.ZP)(l()),_=(0,o.ZP)(d()),$=(0,o.ZP)(u()),y=(0,o.ZP)(c()),w=(0,o.ZP)(m()),j=(0,o.ZP)(b()),P=(0,o.ZP)(f()),Z=(0,o.ZP)(p()),N=(0,o.ZP)(h())},68074:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(85893);t(67294);var o=t(70318),i=t(47034),s=t(79352),a=t(86548),l=t(2962),d=t(12045),u=t(14490),c=t(21409),m=t(8193),b=t(81873),f=t(38138),p=t(96758);function h(){let{data:n,loading:e}=(0,c.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.PB,{...(0,d.q)({title:"내가 읽은 목록",description:"내가 읽은 포스트 목록"})}),(0,r.jsx)(a.X,{children:(0,r.jsxs)(o.k,{as:"div",className:"pt-[2rem] pb-[2rem]",children:[(0,r.jsx)(u.$t,{className:"col-span-2 mmd:hidden",children:(0,r.jsx)("div",{className:"sticky top-24",children:(0,r.jsx)(i.Z,{primaryItems:[{icon:(0,r.jsx)(m.QML,{}),text:"내 정보 수정",to:"/profile"},{icon:(0,r.jsx)(b.lp0,{}),text:"임시 글",to:"/temporaryPost",sub:["/search","/search/[query]","/trending"]},{icon:(0,r.jsx)(s.iEv,{}),text:"내가 쓴 글",to:"/myPost",sub:["/search","/search/[query]","/trending"]},{icon:(0,r.jsx)(f.z7z,{}),text:"내가 읽은 목록",to:"/readPost",sub:["/search","/search/[query]","/trending"]},{icon:(0,r.jsx)(m.L7p,{}),text:"좋아요 글",to:"/likedPost"}]})})}),(0,r.jsx)(u.LN,{className:"col-span-8 mmd:col-span-12",first:(0,r.jsx)(u.s2,{children:(0,r.jsx)(p.Z,{title:"읽은 목록"})}),second:(0,r.jsx)(u.so,{children:(0,r.jsx)(o.Y,{className:"mt-[1rem]"})})})]})})]})}}},function(n){n.O(0,[228,260,617,937,662,401,86,866,78,780,73,424,548,774,888,179],function(){return n(n.s=75867)}),_N_E=n.O()}]);