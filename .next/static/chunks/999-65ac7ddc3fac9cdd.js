"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{96758:function(n,e,t){t.d(e,{Z:function(){return N}});var o=t(85893),r=t(67294),i=t(11163),s=t(41664),a=t.n(s),l=t(8234),u=t(9473),d=t(7297),c=t(56279),b=t(71686),m=t(17106),f=t(60155),k=t(3006),p=t(57233),h=t(77349),v=t(51649),_=t(186),g=t(73224);function x(){let n=(0,d.Z)(["\n  .rdp-button:hover:not([disabled]):not(.rdp-day_selected) {\n    background-color: #fcd535;\n    color: ",";\n    &:hover {\n      font-weight: 700;\n    }\n  }\n  .rdp-cell {\n    color: ",";\n  }\n  .react-datepicker__header {\n    background-color: #fff;\n  }\n  .rdp {\n    margin: 1rem 0rem;\n    padding-left: 0.5rem;\n  }\n\n  .rdp-day_selected {\n    color: #212529;\n    font-weight: bold;\n  }\n\n  .rdp {\n    --rdp-cell-size: 40px;\n    --rdp-accent-color: #fcd535;\n    --rdp-background-color: #e7edff;\n    /* Switch to dark colors for dark themes */\n    --rdp-accent-color-dark: #212529;\n    --rdp-background-color-dark: #fcd535;\n    color: #212529;\n    /* Outline border for focused elements */\n    --rdp-outline: 2px solid var(--rdp-accent-color);\n    /* Outline border for focused and selected elements */\n    --rdp-outline-selected: 2px solid rgba(0, 0, 0, 0.75);\n  }\n"]);return x=function(){return n},n}function $(n){let{goToMonth:e,nextMonth:t,previousMonth:r}=(0,c.HJ)();return(0,o.jsxs)("h2",{className:"flex justify-center items-center mb-4",children:[(0,o.jsx)("button",{className:"mr-4 dark:text-white",disabled:!r,onClick:()=>r&&e(r),children:(0,o.jsx)(v.u1R,{})}),(0,o.jsxs)("div",{className:"dark:text-white",children:[" ",(0,p.Z)(n.displayMonth,"yyy.MM")]}),(0,o.jsx)("button",{className:"ml-4 dark:text-white",disabled:!t,onClick:()=>t&&e(t),children:(0,o.jsx)(v.hjJ,{})})]})}let y=n=>{let{onChange:e,range:t,ranges:s,setRange:a,...l}=n,{isdark:d}=(0,u.v9)(n=>n.core),p=(0,r.useRef)(),v=(0,u.I0)(),_=(0,i.useRouter)(),[x,y]=(0,r.useState)(null),[w,Z]=(0,r.useState)(null),[C,S]=(0,r.useState)(!0),j=new Date,I=[{from:new Date(0,0,0),to:new Date(2023,1,8)},{from:(0,h.Z)(j,1),to:new Date(9999,2,9)}],N=n=>{if(C)S(!1),Z(n);else if(S(!0),y(n),w&&x){var e;null==p||null===(e=p.current)||void 0===e||e.click(),v((0,g.u3)({from:w,to:x}))}},F=n=>{y(n)},A=n=>{if(n){var e;_.push("/trending"),v((0,g.u3)(n)),null==p||null===(e=p.current)||void 0===e||e.click()}},T=()=>{a(null)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"max-w-sm z-[8] ml-4",children:(0,o.jsx)(b.J,{className:"relative",children:n=>{let{open:e}=n;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.J.Button,{ref:p,className:"outline-none flex items-end",children:(0,o.jsx)(f.qKA,{size:24,className:"text-[#4b4b4b] dark:text-[#CFCFCF] hover:text-[#212529]",onClick:()=>T()})}),(0,o.jsx)(m.u,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,o.jsx)(b.J.Panel,{className:"absolute overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 w-[300px] right-0",children:(0,o.jsxs)(P,{isdark:d,className:"relative grid bg-white dark:text-white dark:bg-[#212227] lg:grid-cols-1",children:[s&&(0,o.jsx)("div",{className:"flex flex-col border-b dark:bg-[#212227]",children:s.map(n=>(0,o.jsx)("div",{className:"dark:text-[#cfcfcf] dark:hover:text-[#cfcfcf] text-center text-[#475569] text-xs font-bold py-2 rounded hover:bg-slate-100 dark:hover:bg-[#32333a] ",onClick:()=>{A(n.value)},children:n.label},n.label))}),(0,o.jsx)(c._W,{disabled:I,locale:k.Z,onDayClick:n=>N(n),onDayMouseEnter:F,className:"Selectable",...l,components:{Caption:$}})]})})})]})}})})})};var w=r.memo(y);let P=_.ZP.div(x(),n=>(n.isdark,"#212529"),n=>"dark"==n.isdark?"#ececec":"#212529");var Z=t(7069);let C=new Date,S=()=>{(0,Z.Z)(C,0);let[n,e]=(0,r.useState)(),t=(0,u.I0)(),s=(0,i.useRouter)();(0,r.useEffect)(()=>{(null==n?void 0:n.from)&&(null==n?void 0:n.to)&&(s.push("/trending"),t((0,g.u3)({from:n.from,to:n.to})))},[n,t]);let a=[{label:"오늘",value:{from:(0,Z.Z)(C,0),to:C}},{label:"이번 주",value:{from:(0,Z.Z)(C,7),to:C}},{label:"이번 달",value:{from:(0,Z.Z)(C,28),to:C}},{label:"올해",value:{from:(0,Z.Z)(C,365),to:C}}];return(0,o.jsx)(w,{mode:"range",fixedWeeks:!0,range:n,selected:n,setRange:e,onSelect:e,ranges:a,onChange:e})},j=(n,e)=>"/"===n?n===e:e.startsWith(n);var I=function(n){let{primaryItems:e}=n,t=(0,i.useRouter)(),r=n=>{n.preventDefault(),n.stopPropagation(),n.nativeEvent.stopImmediatePropagation()};return(0,o.jsxs)("div",{className:"flex items-center",children:[e.map(n=>{let{name:e,href:i,svg:s}=n;return(0,o.jsx)(a(),{href:i,onClick:n=>{j(i,t.pathname)&&r(n)},children:(0,o.jsxs)("div",{className:"ml-4 flex flex-col relative text-base font-semibold text-[#181A20] dark:text-[#e4e5e7]",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"".concat(t.pathname==i?"text-[#FFA500]":"text-[#4b4b4b] dark:text-[#CFCFCF]"," mr-1.5"),children:s}),(0,o.jsx)("div",{className:"".concat(t.pathname==i?"text-[#FFA500]":"text-[#4b4b4b] dark:text-[#CFCFCF]"),children:e})]}),j(i,t.pathname)&&(0,o.jsx)(l.E.div,{layoutId:"navigation-underline",className:"navigation-underline",animate:!0})]})},e)}),(0,o.jsx)(S,{})]})},N=function(n){let{title:e,primaryItems:t}=n;return(0,o.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,o.jsx)("div",{className:"flex mb-auto text-lg text-[#212529] font-semibold dark:text-[#e4e5e7]",children:e}),t&&(0,o.jsx)(I,{primaryItems:t})]})}},21409:function(n,e,t){t.d(e,{Z:function(){return a}});var o=t(46829),r=t(67294),i=t(96835),s=t(17426);function a(){var n;let{data:e,loading:t,fetchMore:a}=(0,o.useQuery)(s.l5,{variables:{limit:24},notifyOnNetworkStatusChange:!0}),[l,u]=(0,r.useState)(!1),d=(0,r.useCallback)(n=>{a({variables:{cursor:n,limit:24},updateQuery:(n,e)=>{let{fetchMoreResult:t}=e;return t?(0===t.recentPosts.length&&u(!0),{recentPosts:[...n.recentPosts,...t.recentPosts]}):n}})},[a]),c=null===(n=null==e?void 0:e.recentPosts[(null==e?void 0:e.recentPosts.length)-1])||void 0===n?void 0:n.id;return(0,i.Z)({cursor:c,onLoadMore:d}),{data:e,loading:t,isFinished:l}}},96835:function(n,e,t){t.d(e,{Z:function(){return i}});var o=t(67294),r=t(60119);function i(n){let{cursor:e,stop:t,offset:i,onLoadMore:s,onLoadMoreByOffset:a}=n,l=(0,o.useRef)(null),u=(0,o.useCallback)(()=>{0===(0,r.rA)()&&window.scrollTo(0,(0,r.cx)()-1)},[]),d=(0,o.useCallback)(async()=>{e&&s&&e!==l.current&&(l.current=e,await s(e),u())},[e,s,u]),c=(0,o.useCallback)(async()=>{!t&&i&&a&&i!==l.current&&(l.current=i,await a(i),u())},[i,a,u,t]),b=(0,o.useCallback)(()=>{let n=(0,r.rA)();n<window.screen.height&&(d(),c())},[d,c]);(0,o.useEffect)(()=>(window.addEventListener("scroll",b),()=>{window.removeEventListener("scroll",b)}),[b])}},17426:function(n,e,t){t.d(e,{E4:function(){return v},Hz:function(){return h},KH:function(){return S},QU:function(){return w},WO:function(){return $},YR:function(){return P},Zr:function(){return g},hc:function(){return C},l5:function(){return _},ss:function(){return y},wL:function(){return Z},zL:function(){return x}});var o=t(7297),r=t(58585);function i(){let n=(0,o.Z)(["\n  query GetPost($id: String!) {\n    post(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      subs_count\n      released_at\n      created_at\n      updated_at\n      liked\n      tags {\n        tag {\n          name\n        }\n      }\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n        profile {\n          id\n          bio\n          profile_name\n          thumbnail\n        }\n      }\n      subs {\n        id\n        text\n        likes\n        has_replies\n        deleted\n        level\n        reply\n        created_at\n        updated_at\n\n        upvotes\n        replies {\n          id\n          text\n          has_replies\n          created_at\n          updated_at\n        }\n        replies_count\n        user {\n          id\n          username\n          profile {\n            id\n            bio\n            profile_name\n            thumbnail\n          }\n        }\n      }\n    }\n  }\n"]);return i=function(){return n},n}function s(){let n=(0,o.Z)(["\n  query GetPosts($cursor: String, $username: String, $istemp: Boolean) {\n    posts(cursor: $cursor, username: $username, istemp: $istemp) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      tags {\n        tag {\n          name\n        }\n      }\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return s=function(){return n},n}function a(){let n=(0,o.Z)(["\n  query RecentPosts($cursor: String, $limit: Int) {\n    recentPosts(cursor: $cursor, limit: $limit) {\n      id\n      title\n\n      thumbnail\n      likes\n      views\n      is_temp\n      postbody\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return a=function(){return n},n}function l(){let n=(0,o.Z)(["\n  query TrendingPosts(\n    $offset: Int\n    $limit: Int\n    $timeframe: String\n    $from: Date\n    $to: Date\n  ) {\n    trendingPosts(\n      offset: $offset\n      limit: $limit\n      timeframe: $timeframe\n      from: $from\n      to: $to\n    ) {\n      id\n      title\n      thumbnail\n      likes\n      postbody\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,o.Z)(["\n  mutation CreatePost(\n    $body: String!\n    $title: String!\n    $thumbnail: String\n    $postbody: String\n    $tags: [String]\n    $is_temp: Boolean\n    $is_private: Boolean\n    $bookTitle: String\n    $bookContent: String\n    $bookUrl: String\n    $bookIsbn: String\n    $bookAuthors: [String]\n  ) {\n    createPost(\n      body: $body\n      title: $title\n      tags: $tags\n      thumbnail: $thumbnail\n      postbody: $postbody\n      is_temp: $is_temp\n      is_private: $is_private\n      bookTitle: $bookTitle\n      bookContent: $bookContent\n      bookUrl: $bookUrl\n      bookIsbn: $bookIsbn\n      bookAuthors: $bookAuthors\n    ) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      postbody\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n    }\n  }\n"]);return u=function(){return n},n}function d(){let n=(0,o.Z)(["\n  query ReloadComments($id: String!) {\n    post(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      subs_count\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n        updated_at\n      }\n    }\n  }\n"]);return d=function(){return n},n}function c(){let n=(0,o.Z)(["\n  query SearchPosts($searchInput: String) {\n    searchPosts(searchInput: $searchInput) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      bookInfo {\n        bookTitle\n        bookContent\n        bookUrl\n        bookIsbn\n        bookAuthors\n      }\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return c=function(){return n},n}function b(){let n=(0,o.Z)(["\n  mutation EditPost(\n    $id: String!\n    $title: String\n    $body: String\n    $thumbnail: String\n    $tags: [String]\n    $is_temp: Boolean\n    $is_private: Boolean\n    $postbody: String\n  ) {\n    editPost(\n      id: $id\n      title: $title\n      body: $body\n      tags: $tags\n      is_temp: $is_temp\n      thumbnail: $thumbnail\n      is_private: $is_private\n      postbody: $postbody\n    ) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return b=function(){return n},n}function m(){let n=(0,o.Z)(["\n  mutation RemovePost($id: String!) {\n    removePost(id: $id)\n  }\n"]);return m=function(){return n},n}function f(){let n=(0,o.Z)(["\n  mutation LikePost($id: String!) {\n    likePost(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return f=function(){return n},n}function k(){let n=(0,o.Z)(["\n  mutation UnlikePost($id: String!) {\n    unlikePost(id: $id) {\n      id\n      title\n      body\n      thumbnail\n      likes\n      views\n      is_temp\n      is_private\n      released_at\n      created_at\n      updated_at\n      liked\n      user {\n        id\n        username\n      }\n      subs {\n        id\n        text\n      }\n      subs_count\n    }\n  }\n"]);return k=function(){return n},n}function p(){let n=(0,o.Z)(["\n  mutation UploadImageToCloudinary($body: String!, $width: Int!, $height: Int!) {\n    uploadImage(body: $body, width: $width, height: $height) {\n      public_id\n      url\n    }\n  }\n"]);return p=function(){return n},n}let h=(0,r.ZP)(i()),v=(0,r.ZP)(s()),_=(0,r.ZP)(a()),g=(0,r.ZP)(l()),x=(0,r.ZP)(u()),$=(0,r.ZP)(d()),y=(0,r.ZP)(c()),w=(0,r.ZP)(b()),P=(0,r.ZP)(m()),Z=(0,r.ZP)(f()),C=(0,r.ZP)(k()),S=(0,r.ZP)(p())}}]);